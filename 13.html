<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RNG午餐</title>
    <link rel="stylesheet" href="./style.css">
    <style>
        /* 新增：選項區塊的簡易樣式，保持與原有設計風格一致 */
        .options-container {
            margin-bottom: 20px;
            text-align: left;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #eee;
        }
        .option-group {
            margin-bottom: 10px;
        }
        .option-group label {
            font-weight: bold;
            margin-right: 10px;
            color: #555;
        }
        .radio-group {
            display: inline-block;
        }
        .radio-group input {
            margin-left: 10px;
        }
        select {
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>RNG午餐</h1>
            <p class="subtitle">解決你的午餐選擇困難症！</p>
        </header>
        
        <div class="content">
            <div class="options-container">
                <div class="option-group">
                    <label>時段：</label>
                    <div class="radio-group">
                        <label><input type="radio" name="mealTime" value="all" checked> 不限</label>
                        <label><input type="radio" name="mealTime" value="lunch"> 午餐</label>
                        <label><input type="radio" name="mealTime" value="dinner"> 晚餐</label>
                    </div>
                </div>
                <div class="option-group">
                    <label>種類：</label>
                    <select id="foodCategory">
                        <option value="all">全部</option>
                        <option value="noodle">麵食</option>
                        <option value="rice">飯類</option>
                        <option value="western">西式/異國</option>
                        <option value="light">輕食/素食</option>
                    </select>
                </div>
            </div>

            <div class="button-container">
                <button class="random-btn" onclick="randomFood()">今天吃什麼？</button>
            </div>
            
            <div class="result-container" id="resultContainer">
                <h2 class="food-name" id="foodName">牛肉麵</h2>
                
                <div class="rating">
                    </div>
                
                <div class="food-details">
                    <div class="detail-box">
                        <div class="detail-title">評價</div>
                        <div class="detail-content" id="foodRating">湯頭濃郁，牛肉軟嫩，麵條Q彈</div>
                    </div>
                    
                    <div class="detail-box">
                        <div class="detail-title">內容</div>
                        <div class="detail-content" id="foodDescription">半筋半肉牛肉、手工麵條、青菜、蔥花</div>
                    </div>
                    
                    <div class="detail-box">
                        <div class="detail-title">地點</div>
                        <div class="detail-content" id="foodLocation">台北市大安區忠孝東路四段</div>
                    </div>
                    
                    <div class="detail-box">
                        <div class="detail-title">價格</div>
                        <div class="detail-content" id="foodPrice">NT$ 150</div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>午餐隨機選擇器 &copy; 2025 - 不再為午餐煩惱！</p>
        </footer>
    </div>

    <script>
        // 食物資料陣列 (已新增 category 和 time 屬性以配合篩選)
        const foods = [
            {
                name: "牛肉麵",
                rating: "湯頭濃郁，牛肉軟嫩，麵條Q彈",
                description: "半筋半肉牛肉、手工麵條、青菜、蔥花",
                location: "台北市大安區忠孝東路四段",
                price: "NT$ 150",
                stars: 4,
                category: "noodle",
                time: ["lunch", "dinner"]
            },
            {
                name: "滷肉飯",
                rating: "滷汁香濃，米飯飽滿，肥瘦適中",
                description: "滷肉、米飯、滷蛋、黃瓜片",
                location: "台北市中正區羅斯福路一段",
                price: "NT$ 50",
                stars: 5,
                category: "rice",
                time: ["lunch", "dinner"]
            },
            {
                name: "日式拉麵",
                rating: "湯頭醇厚，叉燒入口即化",
                description: "豚骨湯底、叉燒、溏心蛋、海苔、筍乾",
                location: "台北市信義區松壽路",
                price: "NT$ 220",
                stars: 4,
                category: "noodle",
                time: ["lunch", "dinner"]
            },
            {
                name: "義大利麵",
                rating: "醬汁濃郁，麵條彈牙，配料豐富",
                description: "義大利麵、番茄肉醬、起司、羅勒",
                location: "台北市中山區南京東路",
                price: "NT$ 180",
                stars: 4,
                category: "western",
                time: ["lunch", "dinner"]
            },
            {
                name: "健康沙拉",
                rating: "新鮮蔬菜，營養均衡，輕食首選",
                description: "生菜、番茄、雞胸肉、堅果、油醋醬",
                location: "台北市大安區仁愛路四段",
                price: "NT$ 120",
                stars: 3,
                category: "light",
                time: ["lunch"] // 假設只適合午餐
            },
            {
                name: "港式燒臘",
                rating: "肉質鮮美，皮脆肉嫩，醬汁獨特",
                description: "燒鴨、叉燒、油雞、青菜、白飯",
                location: "台北市萬華區西門町",
                price: "NT$ 110",
                stars: 4,
                category: "rice",
                time: ["lunch", "dinner"]
            },
            {
                name: "韓式拌飯",
                rating: "辣醬夠味，配料豐富，口感層次多",
                description: "米飯、牛肉、蔬菜、雞蛋、韓式辣醬",
                location: "台北市松山區市民大道",
                price: "NT$ 160",
                stars: 4,
                category: "rice",
                time: ["lunch", "dinner"]
            },
            {
                name: "素食餐盒",
                rating: "清爽不油膩，營養均衡，素食者首選",
                description: "五穀飯、時蔬、豆腐、菇類、堅果",
                location: "台北市文山區興隆路",
                price: "NT$ 90",
                stars: 3,
                category: "light",
                time: ["lunch", "dinner"]
            }
        ];
        
        // 隨機選擇食物函數 (加入篩選邏輯)
        function randomFood() {
            // 1. 獲取使用者選擇
            const selectedTime = document.querySelector('input[name="mealTime"]:checked').value;
            const selectedCategory = document.getElementById('foodCategory').value;

            // 2. 篩選資料
            // 這裡未來可以替換成 API 請求 (Fetch) 傳送參數給資料庫
            const filteredFoods = foods.filter(food => {
                const isTimeMatch = selectedTime === 'all' || food.time.includes(selectedTime);
                const isCategoryMatch = selectedCategory === 'all' || food.category === selectedCategory;
                return isTimeMatch && isCategoryMatch;
            });

            // 3. 檢查是否有符合的結果
            if (filteredFoods.length === 0) {
                alert("找不到符合條件的食物，請嘗試放寬篩選條件！");
                return;
            }

            // 4. 隨機抽選
            const randomIndex = Math.floor(Math.random() * filteredFoods.length);
            const selectedFood = filteredFoods[randomIndex];
            
            // 5. 更新頁面內容
            document.getElementById('foodName').textContent = selectedFood.name;
            document.getElementById('foodRating').textContent = selectedFood.rating;
            document.getElementById('foodDescription').textContent = selectedFood.description;
            document.getElementById('foodLocation').textContent = selectedFood.location;
            document.getElementById('foodPrice').textContent = selectedFood.price;
            
            // 更新評分星星
            const starsContainer = document.querySelector('.rating');
            starsContainer.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('span');
                star.className = 'star';
                star.textContent = i < selectedFood.stars ? '★' : '☆';
                starsContainer.appendChild(star);
            }
            
            // 顯示結果容器
            document.getElementById('resultContainer').classList.add('show');
        }
        
        // 頁面加載時先執行一次 (預設不限)
        window.onload = randomFood;
    </script>
</body>
</html>